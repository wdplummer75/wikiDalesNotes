<!DOCTYPE html><html lang="en">

<!-- Mirrored from biostat.app.vumc.org/wiki/System/SiteToolStatistics by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Sep 2024 16:39:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<title> SiteToolStatistics &lt; System &lt; Vanderbilt Biostatistics Wiki</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.5, user-scalable=yes" />
<meta name="mobile-web-app-capable" content="yes" />
<meta name="mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<link rel="icon" href="../pub/Main/SitePreferences/favicon.ico" type="image/x-icon" />
<link rel="shortcut icon" href="../pub/Main/SitePreferences/favicon.ico" type="image/x-icon" />
<link rel="alternate" href="https://biostat.app.vumc.org/wiki/bin/edit/System/SiteToolStatistics?t=1726763784" type="application/x-wiki" title="edit SiteToolStatistics" />
<meta name="TEXT_NUM_TOPICS" content="Number of topics:" />
<meta name="TEXT_MODIFY_SEARCH" content="Modify search" />

<link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://biostat.app.vumc.org/wiki/System/WebRss" />
<base  /><!--[if IE]></base><![endif]-->
<link rel='stylesheet' href='https://biostat.app.vumc.org/wiki/pub/System/PageOptimizerPlugin/cache/76ea346e610aea74367a807e2dd00ef6.css' class='JQUERYPLUGIN::THEME JSCalendarContrib/calendar-large SMILIESPLUGIN head' media='all' />
<style> .calendar {z-index:2000;}</style>

<style class='head TABLEPLUGIN_default' type="text/css" media="all">
body .foswikiTable {border-width:1px}
body .foswikiTable .tableSortIcon img {padding-left:.3em; vertical-align:text-bottom}
body .foswikiTable td {border-style:solid none; vertical-align:top}
body .foswikiTable th {border-style:none solid; vertical-align:top; background-color:#d6d3cf; color:#000000}
body .foswikiTable th a:link {color:#000000}
body .foswikiTable th a:visited {color:#000000}
body .foswikiTable th a:hover {color:#000000; background-color:#d6d3cf}
body .foswikiTable th.foswikiSortedCol {background-color:#c4c1ba}
body .foswikiTable tr.foswikiTableRowdataBg0 td {background-color:#ffffff}
body .foswikiTable tr.foswikiTableRowdataBg0 td.foswikiSortedCol {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td {background-color:#f7f7f6}
body .foswikiTable tr.foswikiTableRowdataBg1 td.foswikiSortedCol {background-color:#f0f0ee}
</style>

<style type="text/css" media="all">
	/* Styles that are set using variables */
	.patternBookView .foswikiTopRow,
	.patternWebIndicator,
	.patternWebIndicator a {
		background-color:#B9DAFF;
	}
	#patternTopBarContents { background-image:url(../pub/Main/SitePreferences/top_bar_gradient.png); background-repeat:repeat-x;}
#patternTopBarContents { background-color:#FFFFFF;}
.patternBookView {
	border-color:#B9DAFF;
}
.patternPreviewPage #patternMain {
	/* uncomment to set the preview image */
	/*background-image:url("/wiki/pub/System/PreviewBackground/preview2bg.gif");*/
}
</style>
<link rel='stylesheet' href='../pub/System/PatternSkin/print.css' media='print' type='text/css' />

<script class='script JQUERYPLUGIN' src='../pub/System/JQueryPlugin/jquery-2.2.4.js'></script>
<script class='script JQUERYPLUGIN::OBSERVER' src='../pub/System/JQueryPlugin/plugins/observer/observer4abf.js?version=0.1'></script>
<script class='script JQUERYPLUGIN::MIGRATE' src='../pub/System/JQueryPlugin/plugins/migrate/jquery.migrate4152.js?version=3.4.0'></script>
<script class='script JQUERYPLUGIN::FOSWIKI' src='../pub/System/JQueryPlugin/plugins/foswiki/jquery.foswikiae26.js?version=3.10'></script>
<script class='script JQUERYPLUGIN::BROWSER' src='../pub/System/JQueryPlugin/plugins/browser/jquery.browser72db.js?version=0.1.0'></script>
<script class='script JQUERYPLUGIN::EASING' src='../pub/System/JQueryPlugin/plugins/easing/jquery.easing7c6c.js?version=1.3'></script>
<script class='script JQUERYPLUGIN::FOSWIKI::PREFERENCES foswikiPreferences' type='text/json'>{
   "COOKIEREALM" : "",
   "SCRIPTURL" : "https://biostat.app.vumc.org/wiki/bin",
   "USERNAME" : "guest",
   "PUBURLPATH" : "/wiki/pub",
   "WIKINAME" : "WikiGuest",
   "NAMEFILTER" : "[\\\\\\s*?~^$@%`\"'&|<:;>\\[\\]#\\x00-\\x1f]",
   "USERSWEB" : "Main",
   "URLHOST" : "https://biostat.app.vumc.org",
   "SYSTEMWEB" : "System",
   "SERVERTIME" : "19 Sep 2024 - 11:36",
   "WEB" : "System",
   "COOKIEPATH" : "/",
   "SKIN" : "natedit,pattern",
   "SCRIPTSUFFIX" : "",
   "PUBURL" : "https://biostat.app.vumc.org/wiki/pub",
   "TOPIC" : "SiteToolStatistics",
   "WIKIUSERNAME" : "Main.WikiGuest",
   "SCRIPTURLPATH" : "/wiki/bin",
   "SCRIPTURLPATHS" : {
      "view" : "/wiki"
   }
}
</script>
<script class='script JQUERYPLUGIN::METADATA' src='../pub/System/JQueryPlugin/plugins/metadata/jquery.metadata1446.js?version=2.1ef2bb44c86f5d0e98d55'></script>
<script class='script JQUERYPLUGIN::UI' src='../pub/System/JQueryPlugin/plugins/ui/jquery-uif90a.js?version=1.13.2'></script>
<script class='script JQUERYPLUGIN::UI::AUTOCOMPLETE' src='../pub/System/JQueryPlugin/plugins/ui/jquery.ui.autocomplete.initf90a.js?version=1.13.2'></script>
<script class='script JSCalendarContrib/calendar' src='../pub/System/JSCalendarContrib/calendar.js'></script>
<script class='script JSCalendarContrib/calendar-lang' src='../pub/System/JSCalendarContrib/lang/calendar-en.js'></script>
<script class='script JSCalendarContrib/foswiki' src='../pub/System/JSCalendarContrib/foswiki.js'></script>
<script class='script JavascriptFiles/foswikiString' type="text/javascript" src="../pub/System/JavascriptFiles/foswikiString.js"></script>
<script class='script JavascriptFiles/foswikiForm' type="text/javascript" src="../pub/System/JavascriptFiles/foswikiForm.js"></script>
<script class='script JavascriptFiles/foswikiPref' type="text/javascript" src="../pub/System/JavascriptFiles/foswikiPref.js"></script>
<script class='script JavascriptFiles/strikeone' type="text/javascript" src="../pub/System/JavascriptFiles/strikeone.js"></script>
<script class='script PatternSkin/pattern' type="text/javascript" src="../pub/System/PatternSkin/pattern.js"></script>
</head> 
<body class="foswikiNoJs patternViewPage foswikiHasNoChangePermission foswikiGuest">
<span id="PageTop"></span><div class="foswikiPage"><div id="patternScreen">
<div id="patternPageShadow"><div id="patternTopBar">
  <div id="patternTopBarContentsWrapper">
	 <div id="patternTopBarContents">
<table border="0" cellpadding="0" cellspacing="0" style="width:100%" summary="">
<tr><td valign="middle"><span id="foswikiLogo" class="foswikiImage"><a href="../Main/WebHome.html"><img src="../pub/Main/SitePreferences/Lockup_VUMC_DeptofBiostatistics_COLORe.png" border="0" alt="Vanderbilt Biostatistics Home" style="border:none;" /></a></span></td>
<td align="right" valign="top" class="patternMetaMenu">
  <ul>
     <li><form name="jumpForm" action="https://biostat.app.vumc.org/wiki/System/SiteToolStatistics">
<input type="text" class="foswikiInputField foswikiDefaultText" name="topic" id="jumpFormField" title="Jump" size="size='18'" value="" />
<script type="text/javascript">
jQuery(function() {
  $('#jumpFormField').autocomplete({
    source: "https://biostat.app.vumc.org/wiki/System/JumpAutocompleteImpl?section=topic;skin=text;contenttype=application/json;web=all;",
    select: function(event, ui) {
      window.location.href = "https://biostat.app.vumc.org/wiki/" + ui.item.value;
    }
  });
});
</script>
<noscript>&nbsp;<input type="submit" class="foswikiButton" size="5" name="submit" value="Jump" />&nbsp;</noscript></form></li>
     <li><form name="quickSearchForm" action="https://biostat.app.vumc.org/wiki/System/WebSearch"><input type="text" class="foswikiInputField foswikiDefaultText" title="Search" id="quickSearchBox" name="search" value="" size="18" /><input type="hidden" name="scope" value="all" /><input type="hidden" name="web" value="System" /><noscript>&nbsp;<input type="submit" size="5" class="foswikiButton" name="submit" value="Search" />&nbsp;</noscript></form><div style="padding-top: 8px"><a href="UserRegistration.html">Register</a> | <a href="https://biostat.app.vumc.org/wiki/bin/login?foswiki_origin=GET%2cview%2c/wiki/System/SiteToolStatistics">Log In</a></div></li>
  </ul>
<p></p>

</td></tr></table></div>
  </div>
</div>
<div id="patternPage">
<div id="patternWrapper"><div id="patternOuter" class="clear">
<div id="patternFloatWrap">
<div id="patternMain"><div id="patternClearHeaderCenter"></div>
<div id="patternMainContents"><div class="patternTop clear"><span class="patternHomePath foswikiLeft"><span class="patternHomePathTitle">You are here: </span><a href="../index.html">Vanderbilt Biostatistics Wiki</a><span class='foswikiSeparator'>&gt;</span><a href="WebHome.html">System Web</a><span class='foswikiSeparator'>&gt;</span><a href="SiteToolStatistics.html" title='Topic revision: 1 (20 Dec 2014 - 23:23:40)'>SiteToolStatistics</a> <span class='patternRevInfo'>(20 Dec 2014, <a href="https://biostat.app.vumc.org/wiki/Main/ProjectContributor">ProjectContributor</a>)</span></span><span class="patternToolBar foswikiRight"><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/edit/System/SiteToolStatistics?t=1726763784' rel='nofollow' title='Edit this topic text' >Edit </a><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/attach/System/SiteToolStatistics' rel='nofollow' title='Attach an image or document to this topic'>Attach</a><span></span></span></div><div class="foswikiContentHeader"></div><div class="patternContent"><div class="foswikiTopic"><h1 id="Site_Statistics">  Site Statistics </h1>
<div class="foswikiToc" id="foswikiTOC"><span class="foswikiTocTitle">On this page:</span> <ul>
<li> <a href="#Introduction"> Introduction </a>
</li> <li> <a href="#Manually_running_statistics"> Manually running statistics </a>
</li> <li> <a href="#Controlling_access_to_the_statistics_script"> Controlling access to the statistics script </a>
</li> <li> <a href="#Configuring_for_automatic_operation"> Configuring for automatic operation </a>
</li> <li> <a href="#Creating_the_WebStatistics_topics"> Creating the WebStatistics topics </a>
</li> <li> <a href="#Generating_statistics_manually_by_URL"> Generating statistics manually by URL </a>
</li> <li> <a href="#Tailoring_the_WebStatistics_layout"> Tailoring the WebStatistics layout </a> <ul>
<li> <a href="#Restricting_access_to_statistics_topics"> Restricting access to statistics topics </a>
</li></ul> 
</li> <li> <a href="#Managing_the_WebStatistics_topics"> Managing the WebStatistics topics </a>
</li></ul> 
</div>
<p></p>

<h3 id="Introduction">  Introduction </h3>
Statistics of visits to pages in a web can be generated manually or automatically, on a per-web basis. Statistics are compiled as a running total for each month.They include totals for Topic Views, Topic Saves, Attachment Uploads, Most Popular Topics with number of views, and Top Contributors showing total of saves and attachment uploads. Statistics from previous months are saved, and a new row is written to the table at the beginning of each month.
<p></p>
 <ul>
<li> You can create a WebStatistics link using <code><b>%STATISTICSTOPIC%</b></code>
</li></ul> 
<p></p>

Statistics are compiled by a script that processes the Foswiki event log. The script can be run two ways: <ul>
<li> Manually, by an authorized user from a browser URL
</li> <li> Automatically by a shell script, usually run as a <code>cron</code> job
</li></ul> 
<p></p>

<h3 id="Manually_running_statistics">  Manually running statistics </h3>
The following form can be used to run statistics and create the WebStatistics topics for selected or all webs.
<p></p>

Note:  The current user - <a href="https://biostat.app.vumc.org/wiki/Main/WikiGuest">WikiGuest</a> must have access rights to read/write the WebStatistics topics, and if missing, must have authority to create the WebStatistics in the selected webs.
<p></p>

<form name="stats" action="https://biostat.app.vumc.org/wiki/bin/statistics" method="post" onsubmit="StrikeOne.submit(this)"><input type='hidden' name='validation_key' value='?fe8a982f88374086d26f2f85ce0b56b0' />
	<div id="runStats" class="foswikiFormSteps">
		<div class="foswikiFormStep">
            <h3>Run statistics on a list of one or more webs</h3>
			<div class="col1">
				<p>
                    <input name="webs" class="foswikiInputField" type="text" value="" size="80" /></p>

			</div>
			<div class="col2">
				<p>
					Enter a comma separated list of webnames. Enter a subweb by specifying <code>ParentWeb/SubWeb/</code>  Web names must follow web naming rules and start with an upper case letter.</p>

			</div>
			<div class="foswikiClear"></div>
		</div>
		<div class="foswikiFormStep">
            <h3>Additional Settings</h3>
            <div class="additionalSettings">
				<div class="foswikiFormSteps">
                    <div class="foswikiFormStep">
                        <h3>Autocreate missing WebStatistics</h3>
                        <div class="col1">
                            <p>
                                <input type="checkbox" name="autocreate" value="1" /></p>

                        </div>
                        <div class="col2">
                            <p>
                                Select this option if you want the Statistics script to auto-create the WebStatistics if it is missing. (Note: this operation must be enabled in the configuration).</p>

                        </div>
                        <div class="foswikiClear"></div>
                    </div>
					<div class="foswikiFormStep">
						<h3>Process sub-webs</h3>
						<div class="col1">
							<p>
                                <input type="checkbox" name="subwebs" value="1" /></p>

						</div>
						<div class="col2">
							<p>
								Process any subwebs of the requested webs. If this is not selected, then sub-webs must be explicitly listed in the list of webs.</p>

						</div>
                    </div>
					<div class="foswikiFormStep">
						<h3>Specify date to process</h3>
						<div class="col1">
							<p>
                                <input class="foswikiInputField" type="text" name="logdate" value="" /></p>

						</div>
						<div class="col2">
							<p>
								Specify the date of the logs to process in <code>YYYYMM</code> format. Example: <code>201203</code> to request March 2012.</p>

						</div>
                        <div class="foswikiClear"></div>
                    </div>
				</div>
			</div>
		</div>
		<div class="foswikiFormStep">
			<input type="submit" class="foswikiSubmit" value="Run Statistics" />
		</div>
	</div>
</form>
<p class='p'></p>

<p class='p'></p>

<h3 id="Controlling_access_to_the_statistics_script">  Controlling access to the statistics script </h3>
By default, the statistics script may be run by anyone, however the user must have <code>CHANGE</code> permission on the WebStatistics topic. Statistics generation can create a significant workload on the server. In order to further restrict statistics generation:
<p></p>
 <ul>
<li> Add <code>statistics</code> to the <a href="https://biostat.app.vumc.org/wiki/bin/configure">configure</a> <code>Security and Authentication</code> tab, <code>Login</code> sub-tab.(This is now the default on Foswiki 1.1.4). This is required to prevent unauthenticated guest users from running <code>statistics</code>. <ul>
<li> If using Apache authentication, be sure to add it to the Apache configuration.
</li></ul> 
</li> <li> If desired, create a Group for users that should be permitted to run the statistics script, or use the AdminGroup.
</li> <li> Visit <a href="https://biostat.app.vumc.org/wiki/bin/configure">configure</a> <code>Logging and Statistics</code> tab, and set <code>{Stats}{StatisticsGroup}</code> to the group permitted to run statistics. <ul>
<li> Note: Regardless of this setting, members of the AdminGroup can always run statistics.
</li></ul> 
</li></ul> 
<p></p>

<h3 id="Configuring_for_automatic_operation">  Configuring for automatic operation </h3>
You can automatically generate usage statistics for all webs. To enable this:
<p></p>
 <ul>
<li> By default, the WebStatistics topic must be present in all webs where you want to have statistics. See below for how to create the WebStatistics topic.
</li> <li> Call the <code>bin/statistics</code> script from a cron job, once a day is recommended. This will update the WebStatistics topics in all top level webs. (Sub-webs are not processed by default).
</li> <li> <img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> <strong>Caution:</strong> The script <strong>must</strong> run as the same user as the Web Server CGI scripts. This varies by platform, but is typically <code>apache</code>, <code>www</code>. or <code>nobody</code> on many systems.  Verify this before running statistics from the command line or cron.  If the ownership of critical files is changed, it can render the Foswiki server inoperable.
</li> <li> Example crontab entry to process all webs and subwebs containing a WebStatistics topic: <br /> <code>0 0 * * * (cd /path/to/bin; ./statistics -subwebs 1 &gt;/dev/null 2&gt;&amp;1)</code> <ul>
<li> This crontab entry should be installed for the web server user, not <code>root</code>!
</li></ul> 
</li></ul> 
<div class="foswikiHelp">
<img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/tip.png" alt="TIP" title="TIP" width="16" height="16" /> There is a workaround in case you can't run the script as the CGI user. Use the <code>curl</code> or <code>wget</code> tools available on most distributions. These two examples perform the same function using curl and wget in the crontab. You should only use one of them.
<pre>
 0 0 &#42; &#42; &#42; (curl -F webs&#61;Sandbox -F subwebs&#61;1 your.host.com/bin/statistics &#62;/dev/null 2&#62;&#38;1)
 0 0 &#42; &#42; &#42; (wget --post-data &#39;webs&#61;Sandbox&#38;subwebs&#61;1&#39; -O - your.host.com/bin/statistics &#62;dev/null 2&#62;&#38;1)
</pre>
Both <code>curl</code> and <code>wget</code> can perform <code>http</code> authentication, and can log in if you are using Apache login. See the platform documentation for <code>wget</code> or <code>curl</code> for more information. If using Template login, authentication will not be possible, and the CGI request will run as the WikiGuest user. If you use this workaround, the WebStatistics topics you are updating will have to be writable by WikiGuest, and you cannot add <code>statistics</code> to the <code>{AuthScripts}</code> list
<p></p>

If you do not have <code>curl</code> or <code>wget</code> available on your platform, Foswiki provides a very simple script that can post to or get from a web server. It has no authentication capabilities. <img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> <strong>Deprecated!</strong> This script is deprecated and may be removed in a future release.<br />
Run the utility <code>tools/geturl.pl</code> in your cron job and specify the URL of the <code>bin/statistics</code> script as a parameter as shown here:
<pre>
   0 0 &#42; &#42; &#42; (cd /path/to/tools; ./geturl.pl POST mydomain.com /urlpath/to/bin/statistics?webs&#61;Sandbox\;subwebs&#61;1 &#62;/dev/null 2&#62;&#38;1)
</pre>
</div>.
<p></p>

When running from the command line or a cron job, you can pass parameters to the script like this:
<pre class="bash">
./statistics -logdate 200605 -webs Userweb,Sandbox -autocreate 1 -subwebs 1
</pre>
<table class="foswikiTable" rules="none">
	<thead>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<th class="foswikiTableCol0 foswikiFirstCol"> <a href="https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?sortcol=0;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Parameter</a> </th>
			<th class="foswikiTableCol1"> <a href="https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?sortcol=1;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Description</a> </th>
			<th class="foswikiTableCol2 foswikiLastCol"> <a href="https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?sortcol=2;table=1;up=0#sorted_table" rel="nofollow" title="Sort by this column">Default</a> </th>
		</tr>
	</thead>
	<tbody>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>autocreate</code> </td>
			<td class="foswikiTableCol1"> Flag to request auto-creation of missing WebStatistics topics. 0=false 1=true </td>
			<td class="foswikiTableCol2 foswikiLastCol"> <em>(See logging and statistics page in <code>bin/configure</code>.)</em> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>logdate</code> </td>
			<td class="foswikiTableCol1"> Generate statistics for the specified year/month, spacified as <code>YYYYMM</code> </td>
			<td class="foswikiTableCol2 foswikiLastCol"> <em>current month</em> </td>
		</tr>
		<tr class="foswikiTableEven foswikiTableRowdataBgSorted0 foswikiTableRowdataBg0">
			<td class="foswikiTableCol0 foswikiFirstCol"> <code>subwebs</code> </td>
			<td class="foswikiTableCol1"> Flag to request processing of subwebs of the requested webs. 0=false 1=true </td>
			<td class="foswikiTableCol2 foswikiLastCol"> 0 <em>(Subwebs are not processed)</em> </td>
		</tr>
		<tr class="foswikiTableOdd foswikiTableRowdataBgSorted1 foswikiTableRowdataBg1">
			<td class="foswikiTableCol0 foswikiFirstCol foswikiLast"> <code>webs</code> </td>
			<td class="foswikiTableCol1 foswikiLast"> comma-separated list of webs. </td>
			<td class="foswikiTableCol2 foswikiLastCol foswikiLast"> <em>all accessible webs</em> </td>
		</tr>
	</tbody></table>
<p></p>

<h3 id="Creating_the_WebStatistics_topics">  Creating the WebStatistics topics </h3>
As of release 1.1.4 of Foswiki, the WebStatistics topics are no longer shipped by default. The <code>bin/statistics</code> script can automatically create the required topics when enabled in the configuration, or when requested by URL Parameter <code>autocreate=1</code>.
<p></p>
 <ul>
<li> If you want the Statistics topic to be automatically created whenever needed, in every web <ul>
<li> Visit <a href="https://biostat.app.vumc.org/wiki/bin/configure">https://biostat.app.vumc.org/wiki/bin/configure</a> <code>Logging and Statistics</code> tab, and set <code>{Stats}{AutoCreateTopic}</code> to <code>Always</code>
</li></ul> 
</li></ul> 
<p></p>
 <ul>
<li> If you want to manually add the WebStatistics topic to a subset of webs <ul>
<li> Visit <a href="https://biostat.app.vumc.org/wiki/bin/configure">https://biostat.app.vumc.org/wiki/bin/configure</a> <code>Logging and Statistics</code> tab, and set <code>{Stats}{AutoCreateTopic}</code> to <code>Permitted</code>
</li> <li> Use the below form to run <code>statistics</code> on one or more webs.
</li> <li> or add <code>-autocreate 1</code> to the statistics script as shown above.
</li></ul> 
</li></ul> 
<p></p>
 <ul>
<li> If yow want to prohibit autocreate of WebStatistics topics <ul>
<li> Visit <a href="https://biostat.app.vumc.org/wiki/bin/configure">https://biostat.app.vumc.org/wiki/bin/configure</a> <code>Logging and Statistics</code> and set <code>{Stats}{AutoCreateTopic}</code> to <code>Prohibited</code>
</li> <li> Note:  This is the default behavior.
</li></ul> 
</li></ul> 
<p></p>

<h3 id="Generating_statistics_manually_by_URL">  Generating statistics manually by URL </h3>
The <code>bin/statistics</code> script can also be executed as a CGI script, Use the form at the top of this topic to run statistics.
<p></p>

<div style="foswikiAlert"><img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/warning.png" alt="ALERT!" title="ALERT!" width="16" height="16" /> As of Foswiki 1.1.5, the statistics script must be run using the "post" method. Direct entry of a URL is no longer allowed.</div>
<p></p>

<h3 id="Tailoring_the_WebStatistics_layout">  Tailoring the WebStatistics layout </h3>
The WebStatistics topics are not shipped with Foswiki by default. The topics are created on demand by the statistics script when requested by configuration. The topics are created as follows: <ol>
<li> The Main web is searched for <a class="foswikiNewLink" href="https://biostat.app.vumc.org/wiki/bin/edit/Main/WebStatisticsTemplate?topicparent=System.SiteToolStatistics" rel="nofollow" title="Create this topic">WebStatisticsTemplate</a> - if this topic does not exist <ul>
<li> The System web is searched for <a href="https://biostat.app.vumc.org/wiki/System/WebStatisticsTemplate">WebStatisticsTemplate</a>. (This topic is shipped with Foswiki by default)
</li></ul> 
</li> <li> If <code>{Stats}{AutoCreateTopic}</code> is enabled in the configuration, or the <code>autocreate</code> parameter is passed to the <code>statistics</code> script, then a new WebStatistics is created using the WebStatisticsTemplate topic found in the first step. <ul>
<li> If <code>autocreate</code> is not requested, and the WebStatistics topic does not exist, then statistics will not be computed for the web.
</li></ul> 
</li></ol> 
<p></p>

The template topic contains an <code>%INCLUDE%</code> for help text and table headings, and a critical <code>marker line</code> that defines the columns to be recorded by the statistics script. (This allows the help text or headings to be modified without needing to edit every WebStatistics topic.) <ul>
<li> The WebStatistics topic looks for <a class="foswikiNewLink" href="https://biostat.app.vumc.org/wiki/bin/edit/Main/DefaultWebStatistics?topicparent=System.SiteToolStatistics" rel="nofollow" title="Create this topic">DefaultWebStatistics</a> - if this topic does not exist. <ul>
<li> The <a href="https://biostat.app.vumc.org/wiki/System/DefaultWebStatistics">DefaultWebStatistics</a> is included. (This topic is shipped with Foswiki by default).
</li></ul> 
</li></ul> 
<p></p>

To tailor the help text or column heading, copy <a href="https://biostat.app.vumc.org/wiki/System/DefaultWebStatistics">DefaultWebStatistics</a> to <a class="foswikiNewLink" href="https://biostat.app.vumc.org/wiki/bin/edit/Main/DefaultWebStatistics?topicparent=System.SiteToolStatistics" rel="nofollow" title="Create this topic">DefaultWebStatistics</a> and tailor as desired. This prevents your changes from being lost when Foswiki is updated.
<p></p>

To tailor the actual columns recorded and the order of the columns, copy <a href="https://biostat.app.vumc.org/wiki/System/WebStatisticsTemplate">WebStatisticsTemplate</a> to <a class="foswikiNewLink" href="https://biostat.app.vumc.org/wiki/bin/edit/Main/WebStatisticsTemplate?topicparent=System.SiteToolStatistics" rel="nofollow" title="Create this topic">WebStatisticsTemplate</a> and tailor as desired. Then remove the previous WebStatistics and allow the statistics script to auto-create a new topic based upon the new template.
Alternatively you can edit the WebStatistics in each web.
<p></p>

Statistics are written into the WebStatistics in the following order. <ul>
<li> If a <code><b>marker line</b></code> is found in the topic, statistics are inserted into the topic <em>after</em> the <code>marker line</code>.
</li> <li> If no <code>marker line</code> is present, but the topic contains existing statistics,  the current month is update, or a new month is written <em>after</em> the previous month.
</li> <li> If no <code>marker line</code> is present and no previous statistics exist, a new line is added to the end of the topic.
</li></ul> 
<p class='p'>Removal of the marker line causes statistics to be gathered in chronological order (oldest first). By default, statistics are reported in reverse chronological order.</p>

The <code>marker line</code> defines the order of the columns collected by the <code>statistics</code> script. The order of the columns should correspond to the table heading in the <a href="https://biostat.app.vumc.org/wiki/System/DefaultWebStatistics">DefaultWebStatistics</a>. Default marker line is:
<pre>
&#124; &#60;!--statDate--&#62; &#124; &#60;!--statViews--&#62; &#124; &#60;!--statSaves--&#62; &#124; &#60;!--statUploads--&#62; &#124; &#60;!--statTopViews--&#62; &#124; &#60;!--statTopContributors--&#62; &#124;
</pre>
<p></p>

<h4 id="Restricting_access_to_statistics_topics">  Restricting access to statistics topics </h4>
WebStatistics topics can have access controls like other topics.
<p></p>

If you want to have these access settings copied to new WebStatistics topics, follow these steps: <ol>
<li> Copy topic WebStatisticsTemplate from System web to Main web
</li> <li> Edit the topic settings (via the "More" link) and write (if you want to restrict topics views to logged in users):   <pre>
      * Set DENYTOPICVIEW = WikiGuest
</pre>
</li></ol> 
<p class='p'>For existing WebStatistics topics you will need to write these settings manually.</p>

<h3 id="Managing_the_WebStatistics_topics">  Managing the WebStatistics topics </h3>
Each WebStatistics topic will continue to grow, a new row added every month. In addition, every update of the statistics topic will create a new entry in the WebStatistics topic revision history. These can become extremely large over time and Foswiki does not provide any mechanism for automatically archiving statistics topics. For good ongoing performance, it is recommended to archive statistics annually: <ul>
<li> Enable <code>{Stats}{AutoCreateTopic}</code> or add  <code>-autocreate 1</code> to the cron job that runs the statistics script.
</li> <li> Rename the WebStatistics to <code>WebStatisticsYYYY</code> at year end.
</li> <li> Optional: Tailor the <a href="https://biostat.app.vumc.org/wiki/System/DefaultWebStatistics">DefaultWebStatistics</a> topic, adding a search for archived statistics, for example:
</li></ul> 
<pre>
&#37;SEARCH{&#34;.&#34; type&#61;&#34;regex&#34; topic&#61;&#34;&#37;STATISTICSTOPIC&#37;&#42;&#34; excludetopic&#61;&#34;&#37;BASETOPIC&#37;&#34; scope&#61;&#34;topic&#34; nonoise&#61;&#34;on&#34; header&#61;&#34;&#42;Other Statistics Topics:&#42;&#34; format&#61;&#34;   &#42; &#36;web.&#36;topic&#34;}&#37;
</pre>
Following these steps will start a fresh statistics topic with a clean revision history. </div>
<div class="foswikiContentFooter"></div><div class="foswikiFormSteps"><div class="patternTopicActions foswikiFormStep"><span class="patternActionButtons"><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/edit/System/SiteToolStatistics?t=1726763784' rel='nofollow' title='Edit this topic text' accesskey='e'><span class='foswikiAccessKey'>E</span>dit </a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/attach/System/SiteToolStatistics' rel='nofollow' title='Attach an image or document to this topic' accesskey='a'><span class='foswikiAccessKey'>A</span>ttach</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?cover=print;' rel='nofollow' title='Printable version of this topic' accesskey='p'><span class='foswikiAccessKey'>P</span>rint version</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/oops/System/SiteToolStatistics?template=oopshistory' rel='nofollow' title='View complete topic history' accesskey='h'><span class='foswikiAccessKey'>H</span>istory</a>: r1</span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?template=backlinksweb' rel='nofollow' title='Search the System Web for topics that link to here' accesskey='b'><span class='foswikiAccessKey'>B</span>acklinks</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?raw=on' rel='nofollow' title='View without formatting' accesskey='v'><span class='foswikiAccessKey'>V</span>iew wiki text</a></span><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><a class='foswikiRequiresChangePermission' href='https://biostat.app.vumc.org/wiki/bin/edit/System/SiteToolStatistics?t=1726763784;nowysiwyg=1' rel='nofollow' title='Edit Wiki text' accesskey='w'>Edit <span class='foswikiAccessKey'>w</span>iki text</a><span class='foswikiSeparator'>&nbsp;|&nbsp;</span><span><a href='https://biostat.app.vumc.org/wiki/System/SiteToolStatistics?template=more&amp;maxrev=1&amp;currrev=1' rel='nofollow' title='Delete or rename this topic; set parent topic; view and compare revisions' accesskey='m'><span class='foswikiAccessKey'>M</span>ore topic actions</a></span></span></div></div></div><div class="patternInfo"><span class="patternRevInfo">Topic revision: r1 - 20 Dec 2014, <a href="https://biostat.app.vumc.org/wiki/Main/ProjectContributor">ProjectContributor</a></span></div>
</div>
</div><div id="patternSideBar"><div id="patternClearHeaderLeft"></div>
<div id="patternSideBarContents"><div class="patternWebIndicator">
<a href='WebHome.html'>System</a>
</div>
<div class="patternLeftBarPersonal">
<ul id="patternLeftBarUserActions">
<li class='patternLogIn'><img src='https://biostat.app.vumc.org/wiki/pub/System/FamFamFamSilkIcons/key.png' class='foswikiIcon jqIcon key'  alt='key'  width='16'  /><a href="https://biostat.app.vumc.org/wiki/bin/login?foswiki_origin=GET%2cview%2c/wiki/System/SiteToolStatistics">Log In</a></li> <li><img src='https://biostat.app.vumc.org/wiki/pub/System/FamFamFamSilkIcons/add.png' class='foswikiIcon jqIcon add'  alt='add'  width='16'  /><a href="UserRegistration.html">Register</a></li></ul>
</div>
<p class='p'></p>
 <ul>
<li> <strong>Toolbox</strong>
</li> <li> <a href="../Main/WikiUsers.html"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/person.png' width='16' height='16' alt='person' /></span> Users</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/Main/WikiGroups"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/group.png' width='16' height='16' alt='group' /></span> Groups</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebTopicList"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/index.png' width='16' height='16' alt='index' /></span> Index</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebSearch"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/searchtopic.png' width='16' height='16' alt='searchtopic' /></span> Search</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebChanges"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/changes.png' width='16' height='16' alt='changes' /></span> Changes</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebNotify"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/notify.png' width='16' height='16' alt='notify' /></span> Notifications</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebRss"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/feed.png' width='16' height='16' alt='feed' /></span> RSS Feed</a> 
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebPreferences"> <span class='foswikiIcon'><img src='https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/wrench.png' width='16' height='16' alt='wrench' /></span> Preferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>User Reference</b>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/BeginnersStartHere">BeginnersStartHere</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/EditingShorthand">EditingShorthand</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/Macros">Macros</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/MacrosQuickReference">MacrosQuickReference</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/FormattedSearch">FormattedSearch</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/QuerySearch">QuerySearch</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/DocumentGraphics">DocumentGraphics</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/SkinBrowser">SkinBrowser</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/InstalledPlugins">InstalledPlugins</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Admin Maintenance</b>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/ReferenceManual">Reference Manual</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/InterWikis">InterWikis</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/ManagingWebs">ManagingWebs</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/SiteTools">SiteTools</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/DefaultPreferences">DefaultPreferences</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/WebPreferences">WebPreferences</a>
</li></ul> 
<p></p>
 <ul>
<li> <b>Categories</b>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/AdminDocumentationCategory">AdminDocumentationCategory</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/AdminToolsCategory">AdminToolsCategory</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/DeveloperDocumentationCategory">DeveloperDocumentationCategory</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/UserDocumentationCategory">UserDocumentationCategory</a>
</li> <li> <a href="https://biostat.app.vumc.org/wiki/System/UserToolsCategory">UserToolsCategory</a>
</li></ul> 
<p class='p'></p>

<p class='p'></p>
 <ul>
<li> <strong>Webs</strong>
</li> <li> <span style="white-space:nowrap"><a href="../Archive/WebHome.html"><img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#efefef" />&nbsp;Archive</a></span>
</li> <li> <span style="white-space:nowrap"><a href="../Main/WebHome.html"><img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#9b031e" />&nbsp;Main</a></span>
</li> <li> <span style="white-space:nowrap"><a href="../Sandbox/WebHome.html"><img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#B9DAFF" />&nbsp;Sandbox</a></span>
</li> <li> <span style="white-space:nowrap"><a href="WebHome.html"><img src="https://biostat.app.vumc.org/wiki/pub/System/DocumentGraphics/web-bg.png" border="0" alt="" width="16" height="16" style="background-color:#B9DAFF" />&nbsp;System</a></span>
</li></ul> 
<p></p>

</div></div>
</div>
</div></div><div id="patternBottomBar"><div id="patternBottomBarContents"><div id="patternWebBottomBar"><span class="foswikiRight"> <a href="https://foswiki.org/"><img src="../pub/System/ProjectLogos/foswiki-badge.png" height="42" alt="This site is powered by Foswiki" title="This site is powered by Foswiki" /></a></span>Copyright &copy; by the contributing authors. All material on this site is the property of the contributing authors. <br /> Ideas, requests, problems regarding Vanderbilt Biostatistics Wiki? <a href='mailto:biostat-it@vumc.org?subject=Vanderbilt Biostatistics Wiki%20Feedback%20on%20System.SiteToolStatistics'>Send feedback</a> </div></div></div>
</div>
</div>
</div>
</div></body>
<!-- Mirrored from biostat.app.vumc.org/wiki/System/SiteToolStatistics by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 19 Sep 2024 16:39:43 GMT -->
</html>